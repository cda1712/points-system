<!DOCTYPE html>
<html>
<head>
    <title>Test de diagnostic</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        .good { color: green; }
        .bad { color: red; }
    </style>
</head>
<body>
    <h1>ğŸ” Diagnostic Netlify</h1>
    <p class="good">âœ… HTML se charge correctement</p>
    <p class="good">âœ… CSS se charge correctement</p>
    
    <div id="js-test" class="bad">âŒ JavaScript ne s'est pas chargÃ©</div>
    
    <h2>Tests JavaScript :</h2>
    <div id="results"></div>
    
    <script>
        // Test JavaScript basique
        document.getElementById('js-test').innerHTML = 'âœ… JavaScript fonctionne !';
        document.getElementById('js-test').className = 'good';
        
        const results = document.getElementById('results');
        results.innerHTML += '<p class="good">âœ… JavaScript basique OK</p>';
        
        // Test fetch vers Supabase
        fetch('https://mzenjlhhchktynlvpjui.supabase.co/rest/v1/', {
            headers: {
                'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16ZW5qbGhoY2hrdHlubHZwanVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1MjYwMDIsImV4cCI6MjA4NzEwMjAwMn0.QhZowVwu5hkwWgCWGkj7H-448r8TTdZF3qVuLVIdiG8'
            }
        })
        .then(response => {
            if (response.ok) {
                results.innerHTML += '<p class="good">âœ… Connexion Supabase OK</p>';
            } else {
                results.innerHTML += '<p class="bad">âŒ ProblÃ¨me Supabase: ' + response.status + '</p>';
            }
        })
        .catch(error => {
            results.innerHTML += '<p class="bad">âŒ Erreur Supabase: ' + error.message + '</p>';
        });
        
        // Afficher les erreurs
        window.addEventListener('error', function(e) {
            results.innerHTML += '<p class="bad">âŒ Erreur JS: ' + e.message + ' (ligne ' + e.lineno + ')</p>';
        });
        
        console.log('ğŸš€ Test de diagnostic chargÃ© avec succÃ¨s');
    </script>
</body>
</html>